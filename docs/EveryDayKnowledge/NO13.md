# 每天一个小知识点
## 第十三天 
---
## new做了什么 
new执行过程：
1、创建一个空对象  
2、设置原型,将对象的原型设置为函数的prototype属性  
3、让函数的this指向这个对象,执行构造函数的代码(为这个对象添加新属性)  
4、判断函数的返回值类型,如果是值类型,返回创建的对象.如果是引用类型,返回引用类型的对象  
模拟实现:  
```js
function objectFactory() {
  let newObj = bull
  let constructor = Array.prototype.shift.call(arguments)
  let result = null
  // 判断是否是一个函数
  if (typeof constructor !== 'function') {
    throw new typeError('type error')
    return
  }
  // 新建空对象,对象的原型为构造函数的prototype对象
  newObj = Object.create(constructor.prototype)
  // 将this指向新建对象,并执行函数
  result = constructor.apply(newObj, arguments)
  // 判断返回对象
  let flag = reslut && (typeof result === 'object' || typeof result === 'function')
  // 判断返回结果
  return flag?result:newObj
}

// 使用
objectFactory(构造函数,初始化参数)
```
## 通过原型实现的继承和类实现的继承有什么区别

## window.onload和DOMContentLoad的区别