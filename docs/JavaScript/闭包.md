闭包: 指那些能够访问自由变量的函数(一个函数在执行完之后,它内部的变量会被释放,如果存在一个函数有对它的变量有引用,这就形成了闭包)  
自由变量: 能够在函数中访问,但不是函数的参数也不是函数的局部变量的变量

> 严格来讲,所有 JavaScript 函数都是闭包

高阶函数: 把一个函数如果接受另外一个函数作为参数,或者该函数会返回另外一个函数作为返回值的函数

理论角度: 所有的函数都是闭包  
实践角度: 1、创建它的上下文已经销毁,但它仍存在,2、在代码中引用了自由变量

闭包的优点:

- 可以读取不属于自己函数作用域中的变量
- 可以保存数据,不会被释放
- 封装对象的私有属性和私有方法
  闭包的缺点: 过度使用闭包会导致内存资源占用过多,在 IE 浏览器中可能会导致内存泄漏

产生闭包的场景:

- 立即执行函数(IIFE)
- 返回一个函数
- 定时器、事件监听、AJAX 请求等的回调

闭包的应用:  
IIFE、节流防抖(返回一个函数)、柯里化函数(返回一个函数)、compose 组合函数(返回一个函数)

```js
var x = 100;
function fn(y) {
  var x = 200;
  return function (y) {
    console.log(y + x++);
  };
}
var f = fn();
f(10); //210
f(20); //221

let x = 5;
function fn(x) {
  return function (y) {
    console.log(y + ++x);
  };
}
let f = fn(6);
f(7);
fn(18)(9);
f(10);
console.log(x); //5

let a = 0,
  b = 0;
function A(a) {
  A = function (b) {
    console.log(a + b++);
  };
  console.log(a++);
}
A(1);
A(2);
```
