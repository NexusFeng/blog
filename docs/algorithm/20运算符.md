---
title: 20.运算符
---
## 位运算符(vue源码中可用于鉴权)
### 按位与: & (两个同时是1的时候，结果是1，否则是0)
& 以特定的方式组合操作二进制数中对应的位,如果对应的位都是1,那么结果就是1,如果任意一个位是0,则结果就是0  
例:
```
1 二进制: 00000000 00000000 00000000 00000001
3 二进制: 00000000 00000000 00000000 00000011
运算结果: 00000000 00000000 00000000 00000001 (1&3=1)
```
### 按位或: | (两个同时是0的时候，结果是0，否则是1)
| 运算符跟 & 的区别在于如果对应的位中任一个操作数为1，那么结果就是1  
例:
```
1 二进制: 00000000 00000000 00000000 00000001
3 二进制: 00000000 00000000 00000000 00000011
运算结果: 00000000 00000000 00000000 00000011 (1|3=3)
```
### 按位异或: ^
^ 如果对应两个操作位 有且仅有1个1时结果为1，其它都是0  
例:
```
1 二进制: 00000000 00000000 00000000 00000001
3 二进制: 00000000 00000000 00000000 00000011
运算结果: 00000000 00000000 00000000 00000010 (1^3=2)
```
### 按位非: ~
~ 运算符是对位求反，1变0,0变1，也就是求二进制的反码
### 左移: << (乘以1)
<< 运算符使指定的二进制数所有位都左移指定次数，其移动规则为：丢弃高位，低位补0（即按照二进制形式把所有的数字向左移动对应的位数，高位移除（舍弃），低位的空位补0）  
例:
```
1 二进制: 00000000 00000000 00000000 00000001
1<<3: 000|00000 00000000 00000000 00000011000 (8)
```
结论: 任何数的<<几位数,相当于 任何数乘2的几位数次幂
### 有符号右移：>> (整除以2)
`>>` 该操作符会将指定操作数的二进制位向右移动指定的位数。向右被移出的位被丢弃，拷贝最左侧的位以填充左侧（这里是和无符号右移的最大区别）。由于新的最左侧的位总是和以前相同，而符号位并没有被改变。所以被称作“符号传播”
### 无符号右移：>>>
`>>>`该操作符会将第一个操作数向右移动指定的位数。向右被移出的位被丢弃，左侧用0填充（这点是和有符号右移最大的区别）。因为符号位变成了0，所以结果总是非负的。

注：对于非负数，有符号右移和无符号右移总是返回相同的结果。

## leetCode 191  位1的个数
循环检查二进制位
```js
var hammingWeight = function(n) {
  let ret = 0
  for(let i = 0; i < 32; i++) {
    if((n & (1 << i)) !== 0) {
      ret++
    }
  }
  return ret
}
// 时间复杂度O(k)
```
位运算优化
```js
var hammingWeight = function(n) {
  let ret = 0
  while(n) {
    n &= n - 1
    ret++
  }
  return ret
}
// 时间复杂度O(log N)
```